## 操作手順書: Stable Diffusion Prompt Generator

### 1. 前提条件
- `setting.json` ファイルをプログラムのディレクトリに配置し、以下の情報を含めてください：
  ```json
  {
    "TRANSLATOR_ENDPOINT": "<Your Translator Endpoint>",
    "TRANSLATOR_KEY": "<Your Translator Key>",
    "TRANSLATOR_REGION": "<Your Translator Region>"
  }
  ```
- Microsoft AzureのTranslator APIのキーを準備する必要があります。

### 2. プログラムの起動

1. Python環境を整備し、必要なライブラリをインストールします（例: `tkinter`, `requests`, `pyperclip`）。
2. プログラムファイル (`stable_diffusion_prompt_generator.py` など) をダブルクリックするか、コマンドラインから実行して起動します。

### 3. プログラムの使用方法

#### 3.1 固定テキストの入力

1. **「固定テキスト」** フィールドに、プロンプトの中で固定したいテキストを入力します。
   - このフィールドは3行のテキストを入力可能です。

#### 3.2 キーワードの入力

2. **「キーワード」** フィールドに、プロンプトに含めたいキーワードを1行ずつ入力します。
   - それぞれのキーワードやフレーズを新しい行に入力してください。
   - キーワードには重みを指定することも可能です。例: `sky:1.2`

#### 3.3 プロンプトの生成

3. **[プロンプト生成] ボタン** をクリックします。
   - 入力された「固定テキスト」と「キーワード」を組み合わせたプロンプトが生成されます。
   - 生成されたプロンプトは自動的に英語に翻訳され、下部の「生成されたプロンプト」フィールドに表示されます。

#### 3.4 プロンプトのコピー

4. **[コピー] ボタン** をクリックすると、「生成されたプロンプト」がクリップボードにコピーされます。
   - クリップボードにコピーされたプロンプトは、他のアプリケーションに貼り付けて使用できます。

#### 3.5 入力フィールドのクリア

5. **[クリア] ボタン** をクリックすると、「キーワード」および「生成されたプロンプト」フィールドの内容が削除されます。
   - 「固定テキスト」はクリアされませんのでご注意ください。

#### 3.6 履歴の使用

6. **「履歴」** コンボボックスから、過去に生成したプロンプトの履歴を選択することができます。
   - コンボボックスをクリックして、ドロップダウンリストから使用したいプロンプトを選択します。
   - 選択したプロンプトが「キーワード」フィールドに自動的に入力されます。

### 4. プログラム終了時の操作

1. ウィンドウのクローズボタン（`×`）をクリックすると、現在の状態（固定テキスト、キーワード、生成されたプロンプト、ウィンドウサイズと位置）が自動的に保存されます。
2. 次回プログラムを起動した際に、前回の状態が復元されます。

### 5. 注意点

- `setting.json` ファイルが無い場合、または内容が不正な場合はエラーが表示されますので適切に設定してください。
- プロンプトの翻訳機能は、Microsoft AzureのTranslator APIに依存していますので、翻訳エラーが生じる場合があります。

